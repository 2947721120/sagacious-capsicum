{{!
  Copyright (C) 2015 Google Inc., authors, and contributors <see AUTHORS file>
  Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
  Created By: miha@reciprocitylabs.com
  Maintained By: miha@reciprocitylabs.com
}}


<div class="info">
  <div class="row-fluid wrap-row">
    <div class="span8 import">
      <p>
        Here you are able to import all gGRC objects.
        Please make sure you have your CSV file ready, or
        download one of the predefined templates.
      </p>
      <div class="clearfix">
        <input type="file" data-file-upload name="upload" style="visibility: hidden; width: 1px; height: 1px" />
        {{#with_button_state import_state}}
          <button id="import_btn" class="btn btn-large btn-fixed {{class}}">
            {{text}}
          </button>
        {{/with_button_state}}
      <div class="import-wrap">
        <ul>
        {{#import_info}}
          <li>{{.}}</li>
        {{/import_info}}
        {{#import_warnings}}
          <li>{{.}}</li>
        {{/import_warnings}}
        {{#import_errors}}
          <li>{{.}}</li>
        {{/import_errors}}
        </ul>
      </div>

        <div class="import-progress">
          <div class="progress-wrap">
            <span class="total-num">252</span>
            <span class="current-num">210 imported</span>
            <div class="progress custom-progress">
              <div class="bar bar-verify" style="width: 60%;"></div>
            </div>
          </div>
        </div>
        <button id="importedFile" class="btn btn-large btn-success btn-fixed"><i class="grcicon-check-white"></i> Import successful</button>
        <div class="import-progress-final">
          <div class="progress-wrap">
            <span class="total-num">252</span>
            <span class="current-num">252 imported</span>
            <div class="progress custom-progress">
              <div class="bar bar-verify" style="width: 100%;"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="import-main-wrap import-main-wrap-analyze">
        <div class="row-fluid wrap-row">
          <div class="span6">
            <div class="import-wrap import-analyze">
              <h4>pci_controls_2015.csv</h4>
              <ul>
                <li><strong>Object type</strong>: Controls <i class="grcicon-check-solo-green"></i></li>
                <li><strong>Number of rows</strong>: 252 <i class="grcicon-check-solo-green"></i></li>
                <li><strong>File structure</strong> <i class="grcicon-check-solo-green"></i></li>
              </ul>
            </div>
          </div>
          <div class="span6">
            <div class="import-wrap import-analyze">
              <h4>pci_controls_2015.csv</h4>
              <ul>
                <li><strong>Object type</strong>: Programs <i class="grcicon-check-solo-green"></i></li>
                <li><strong>Number of rows</strong>: 152 <i class="grcicon-check-solo-green"></i></li>
                <li><strong>File structure</strong> <i class="grcicon-check-solo-green"></i></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row-fluid">
          <div class="span6">
            <div class="import-wrap import-analyze">
              <h4>pci_controls_2015.csv</h4>
              <ul>
                <li><strong>Object type</strong>: Regulations <i class="grcicon-check-solo-green"></i></li>
                <li><strong>Number of rows</strong>: 762 <i class="grcicon-check-solo-green"></i></li>
                <li><strong>File structure</strong> <i class="grcicon-check-solo-green"></i></li>
              </ul>
            </div>
          </div>
          <div class="span6">
            <div class="import-wrap import-analyze">
              <h4>pci_controls_2015.csv</h4>
              <ul>
                <li><strong>Object type</strong>: sections <i class="grcicon-check-solo-green"></i></li>
                <li><strong>Number of rows</strong>: 50 <i class="grcicon-check-solo-green"></i></li>
                <li><strong>File structure</strong> <i class="grcicon-check-solo-green"></i></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="import-wrap import-final">
        <ul>
          <li><strong>243</strong> records created</li>
          <li><strong>73</strong> records updated</li>
          <li><strong>42</strong> records deleted</li>
          <li><strong>2</strong> records identical</li>
        </ul>
      </div>
      <div class="text-top-space">
        <h3>Quick import tips</h3>
        <ul>
          <li><strong>not all fields are required!</strong> Templates are fexible enough, so you can remove all non-mandatory columns (refer to row 4 to see which fields are required)</li>
          <li>you can <strong>map</strong> objects via import. Simply add <strong>map:control</strong> column and use object codes in the column to map objects. You can <strong>unmap</strong> objects in the same way</li>
          <li>you can <strong>delete</strong> objects in the similar way. Add <strong>delete</strong> column in line 5 and put <em>yes</em> in rows for objects you want to delete</li>
          <li>If objects already exist fields <strong>you leave empty</strong> will be ignored. (Object's attributes will not be replaced with empty info)</li>
          <li>For extensive import help, refer to <a href="#">Import Help/FAQ</a> section below</li>
        </ul>
      </div>
      <div class="text-top-space">
        <h3>Help/FAQ</h3>
        <p><a href="#">God help me!</a></p>
        <p><a href="#">Wait, What?</a></p>
        <p><a href="#">I just want to import 5 freaking systems, was this really nedeed?</a></p>
        <p><a href="#">Got it! Oh, no I didn't :(</a></p>
      </div>
    </div>
    <div class="span4">
      <div class="download-template">
        <h3>Create a CSV template</h3>
        <p>
          Don't have a CSV template ready? We'll <strong>create template</strong> for you right now.
        </p>
        <p>
          Select which <strong>type of objects</strong> you want to import, and we'll
          generate CSV template, with all fields and instructions.
        </p>
        <label>I'm importing/updating...</label>
        <select id="importSelect" class="input-block-level" multiple>
          <optgroup label="Governance">
            <option value="Regulation" label="Regulations">Regulations</option>
            <option value="Contract" label="Contracts">Contracts</option>
            <option value="Policy" label="Policies">Policies</option>
            <option value="Standard" label="Standards">Standards</option>
            <option value="Program" label="Programs">Programs</option>
            <option value="Objective" label="Objectives">Objectives</option>
            <option value="Control" label="Controls">Controls</option>
            <option value="Section" label="Sections">Sections</option>
            <option value="Clause" label="Clauses">Clauses</option>
          </optgroup>
          <optgroup label="People/Groups">
            <option value="Person" label="People">People</option>
            <option value="OrgGroup" label="Org Groups">Org Groups</option>
            <option value="Vendor" label="Vendors">Vendors</option>
          </optgroup>
          <optgroup label="Assets/Business">
            <option value="DataAsset" label="Data Assets">Data Assets</option>
            <option value="Facility" label="Facilities">Facilities</option>
            <option value="Market" label="Markets">Markets</option>
            <option value="Process" label="Processes">Processes</option>
            <option value="Product" label="Products">Products</option>
            <option value="Project" label="Projects">Projects</option>
            <option value="System" label="Systems">Systems</option>
          </optgroup>
        </select>
        <p>CSV template will be generated for following object types:</p>
        <ul class="import-list">
          <li><a href="#"><i class="grcicon-deleted"></i></a> Regulation</li>
          <li><a href="#"><i class="grcicon-deleted"></i></a> Program</li>
          <li><a href="#"><i class="grcicon-deleted"></i></a> Section</li>
          <li><a href="#"><i class="grcicon-deleted"></i></a> Data Assets</li>
        </ul>
        <div class="center-block">
          <a href="import_controls_template" class="btn btn-primary btn-large import-button">
            <i class="grcicon-imp-exp-white"></i>
            Import template
          </a>
          <small>Click to download</small>
        </div>
        {{> /static/mustache/import_export/faq.mustache}}
      </div>
    </div>
  </div>
  <div id="results-container"></div>
</div>
