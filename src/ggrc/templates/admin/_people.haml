-extends 'layouts/_widget_box.haml'

-block widget_help
  admin_people

-block widget_id
  admin_people_widget

-block widget_title
  %i.grcicon-user-black
  People

-block widget_buttons
  .filter
    .row-fluid
      .span8
      .span4
        %a.btn.btn-add.pull-right{ 'href': 'javascript://', 'data-toggle': 'modal-ajax-form', 'data-modal-reset': 'reset', 'data-form-target': 'refresh', 'data-modal-class': 'modal-wide', 'data-object-singular': 'Person', 'data-object-plural': 'people' }
          %i.grcicon-add
          %span.object-type Person

-set quick_result = quick_result if quick_result is defined else None
-set prefix = "qf" if quick_result else "dash"
-set tabbable_id = '' if quick_result is defined else 'quick_find'

-from 'shared/_quick_find.haml' import tab

-block main
  .tabbable.tabs-left{ 'id': '{{ tabbable_id }}' }
    -# FIXME: Fix all `data-tab-href` and `data-new-href` attribute paths
    %ul.nav.nav-tabs{ style : "display:none"}
      =tab("Person", "People", "/search?s=&qr={0}".format("qr"), "", "", "/static/mustache/people/object_list.mustache")
    .tab-content
      .tab-pane{ id : "#{prefix}_people" }
